import { useState } from 'react'


const Statistics = (props) => {

    // save clicks of each button to its own state
    const [good, setGood] = useState(0)
    const [neutral, setNeutral] = useState(0)
    const [bad, setBad] = useState(0)
    const [avgScore, setAvgScore] = useState([])
    const [totalAvgScore, setTotalAvgScore] = useState(0)

    const handleGood = () => {
        avgScore.push(1);
        setAvgScore(avgScore);
        setTotalAvgScore(totalAvgScore + 1)
        setGood(good + 1);
        console.log(totalAvgScore)
    }
    const handleNeutral = () => {
        avgScore.push(0);
        setAvgScore(avgScore);
        setTotalAvgScore(totalAvgScore + 0)
        setNeutral(neutral + 1);
    }

    const handleBad = () => {
        avgScore.push(-1);
        setAvgScore(avgScore);
        setTotalAvgScore(totalAvgScore - 1)
        setBad(bad + 1)

    }
    return (
        <>
            <div>
                <h1>Give Feedback</h1>
                <button onClick={handleGood} name="good" value={good} >good </button>
                <button onClick={handleNeutral} name="neutral" value={neutral} >neutral</button>
                <button onClick={handleBad} name="bad" value={bad} >bad</button>

                <h1>Statistics</h1>
                <p>{props.text} </p>
                <p>good {good}</p>
                <p>neutral {neutral}</p>
                <p>bad {bad}</p>
                <p>all {avgScore.length} </p>
                <p>average {totalAvgScore / avgScore.length} </p>
                <p>positive {good / avgScore.length}% </p>
            </div>
        </>
    )



}

const App = (props) => {


    return (
        <Statistics />
    )

}

export default App
